<html>
<meta charset="Window-1251">
 <head>
   <title>Как создать пользователя и дать ему все права к этой базе</title>
 </head>

<style>
body{
background: url(/Fons/City_Landscape_Background.jpg) no-repeat;
-moz-background-size: 100%;
-webkit-background-size: 100%;
-o-background-size: 100%;
background-size: 100%;
}
</style>
<body style="background-attachment:fixed" topmargin="0">
<center><h1>Моя Напоминалка</h1></center>
<center><h3>Оптимизация сетевой карты под высокую пропускную способность.</h3></crnter>

<br/>
<p align="left">
<br/>
<pre>
<hr>
<p align="left">
Имеется сервер, на который каждую секунду приходит до 200 тысяч пакетов для обработки. 
В ходе настройки сервера под это дело, столкнулся с тем, что на уровне ядра начали отбрасываться пакеты из за переполнения буфера сетевой карты.
В первую очередь необходимо определить где идут потери, т.к. помимо буфера сетевой карты есть еще несколько неоансов в настройке самого сервера, используемого ПО.
<br/>
1.Определение необходимости увеличения размера буфера сетевой карты
ip -s -s link show Имя_интерфейса
<br/>
Имя интерфейса можно посмотреть командой — ip list, ifstat или ifconfig. Примерный вывод:

[root@dracula ~]# ip -s -s link show eth1
Нас интересует параметр missed, где и видим, что пакеты теряются на сетевой карте, что явно показывает необходимость увеличения буферов на сетевой карте.
<br/>
Нам необходимо посмотреть текущие размеры буфера и максимально возможные для сетевой карты. Делается это командой
<br/>
ethtool -g Имя_интерфейса
Где видим, что для RX, входящих пакетов — можно увеличить буфер до 4 Мбайт.
<br/>
Меняем параметры сетевой карты
ethtool -G Имя_интерфейса rx 1024
ethtool -G Имя_интерфейса tx 1024
Проверяем
ethtool -g Имя_интерфейса
/pre>


<hr>
<br/><br/>
<p align="left">
До новых встреч!
</body>
</html>